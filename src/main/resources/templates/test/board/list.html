<html lang="ko" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns:sec="http://www.springframework.org/schema/security">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="keyword" content="">
    <title>유카뮤 - 육하원칙 커뮤니티</title>

    <!--<link th:href="@{/coreui/vendors/coreui/icons/css/coreui-icons.min.css}" rel="stylesheet">-->
    <!--<link th:href="@{/coreui/vendors/flag-icon-css/css/flag-icon.min.css}" rel="stylesheet">-->
    <!--<link th:href="@{/coreui/vendors/font-awesome/css/font-awesome.min.css}" rel="stylesheet">-->
    <!--<link th:href="@{/coreui/vendors/simple-line-icons/css/simple-line-icons.css}" rel="stylesheet">-->

    <!--<script src="/coreui/vendors/jquery/js/jquery.min.js"></script>-->
    <!--<script src="/coreui/vendors/popper.js/js/popper.min.js"></script>-->
    <!--<script src="/coreui/vendors/bootstrap/js/bootstrap.min.js"></script>-->
    <!--<script src="/coreui/vendors/pace-progress/js/pace.min.js"></script>-->
    <!--<script src="/coreui/vendors/perfect-scrollbar/js/perfect-scrollbar.min.js"></script>-->
    <!--<script src="/coreui/vendors/@coreui/coreui-pro/js/coreui.min.js"></script>-->

    <!--<link href="../static/coreui/css/style.css" rel="stylesheet">-->
    <!--<link href="../static/coreui/vendors/pace-progress/css/pace.min.css" rel="stylesheet">-->

    <link th:href="@{/webjars/bootstrap/4.1.0/css/bootstrap.css}" href="" rel="stylesheet">
    <!-- Custom styles for this template -->
    <link th:href="@{/coreui/css/style.css}" href="" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>

    <style type="text/css">/* Chart.js */
    @-webkit-keyframes chartjs-render-animation{from{opacity:0.99}to{opacity:1}}@keyframes chartjs-render-animation{from{opacity:0.99}to{opacity:1}}.chartjs-render-monitor{-webkit-animation:chartjs-render-animation 0.001s;animation:chartjs-render-animation 0.001s;}</style><style type="text/css">/* Chart.js */
    @-webkit-keyframes chartjs-render-animation{from{opacity:0.99}to{opacity:1}}@keyframes chartjs-render-animation{from{opacity:0.99}to{opacity:1}}.chartjs-render-monitor{-webkit-animation:chartjs-render-animation 0.001s;animation:chartjs-render-animation 0.001s;}</style><style type="text/css">/* Chart.js */
    @-webkit-keyframes chartjs-render-animation{from{opacity:0.99}to{opacity:1}}@keyframes chartjs-render-animation{from{opacity:0.99}to{opacity:1}}.chartjs-render-monitor{-webkit-animation:chartjs-render-animation 0.001s;animation:chartjs-render-animation 0.001s;}</style>
</head>
<body th:fragment="body" class="app header-fixed sidebar-fixed aside-menu-fixed sidebar-lg-show">
    <header class="app-header navbar">
        <button class="navbar-toggler sidebar-toggler d-lg-none mr-auto" type="button" data-toggle="sidebar-show">
            <span class="navbar-toggler-icon"></span>
        </button>
        <a class="navbar-brand" href="#">
            <h2>유 카 뮤</h2>
            <!--<img class="navbar-brand-full" src="img/brand/logo.svg" width="89" height="25" alt="CoreUI Logo">-->
            <!--<img class="navbar-brand-minimized" src="img/brand/sygnet.svg" width="30" height="30" alt="CoreUI Logo">-->
        </a>
        <button class="navbar-toggler sidebar-toggler d-md-down-none" type="button" data-toggle="sidebar-lg-show">
            <span class="navbar-toggler-icon"></span>
        </button>
        <ul class="nav navbar-nav d-md-down-none">
            <li class="nav-item px-3">
                <a class="nav-link" href="#">고루보기</a>
            </li>
        </ul>
        <ul class="nav navbar-nav ml-auto">
            <li class="nav-item dropdown">
                <a class="nav-link nav-link" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">
                    <!--<img class="img-avatar" src="img/avatars/6.jpg" alt="admin@bootstrapmaster.com">-->
                </a>
                <div class="dropdown-menu dropdown-menu-right">
                    <div class="dropdown-header text-center">
                        <strong>Account</strong>
                    </div>
                    <a class="dropdown-item" href="#">
                        <i class="fa fa-bell-o"></i> Updates
                        <span class="badge badge-info">42</span>
                    </a>
                    <a class="dropdown-item" href="#">
                        <i class="fa fa-envelope-o"></i> Messages
                        <span class="badge badge-success">42</span>
                    </a>
                    <a class="dropdown-item" href="#">
                        <i class="fa fa-tasks"></i> Tasks
                        <span class="badge badge-danger">42</span>
                    </a>
                    <a class="dropdown-item" href="#">
                        <i class="fa fa-comments"></i> Comments
                        <span class="badge badge-warning">42</span>
                    </a>
                    <div class="dropdown-header text-center">
                        <strong>Settings</strong>
                    </div>
                    <a class="dropdown-item" href="#">
                        <i class="fa fa-user"></i> Profile</a>
                    <a class="dropdown-item" href="#">
                        <i class="fa fa-wrench"></i> Settings</a>
                    <a class="dropdown-item" href="#">
                        <i class="fa fa-usd"></i> Payments
                        <span class="badge badge-dark">42</span>
                    </a>
                    <a class="dropdown-item" href="#">
                        <i class="fa fa-file"></i> Projects
                        <span class="badge badge-primary">42</span>
                    </a>
                    <div class="divider"></div>
                    <a class="dropdown-item" href="#">
                        <i class="fa fa-shield"></i> Lock Account</a>
                    <a class="dropdown-item" href="#">
                        <i class="fa fa-lock"></i> Logout</a>
                </div>
            </li>
        </ul>
        <ul sec:authorize="!isAuthenticated()" class="nav navbar-nav d-md-down-none">
            <li class="nav-item px-3">
                <a class="nav-link" th:href="@{/user/login}">로그인</a>
            </li>
        </ul>
        <ul sec:authorize="isAuthenticated()" class="nav navbar-nav d-md-down-none">
            <li class="nav-item px-3">
                <a class="nav-link" th:href="@{/user/info}" th:text="${loginUser.nickname}"></a>님 환영합니다.
            </li>
            <li class="nav-item px-3">
                <a class="nav-link" th:href="@{/logout}">로그아웃</a>
            </li>
        </ul>

        <button class="navbar-toggler aside-menu-toggler d-md-down-none" type="button" data-toggle="aside-menu-lg-show">
            <span class="navbar-toggler-icon"></span>
        </button>
        <button class="navbar-toggler aside-menu-toggler d-lg-none" type="button" data-toggle="aside-menu-show">
            <span class="navbar-toggler-icon"></span>
        </button>
    </header>
    <div class="app-body">
        <div class="sidebar">
            <nav class="sidebar-nav">
                <ul class="nav">
                    <li class="nav-title">유카뮤니티</li>
                    <li class="nav-item">
                        <a class="nav-link" href="">
                            <i class="nav-icon icon-drop"></i> 자유 </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="">
                            <i class="nav-icon icon-pencil"></i> 사진 </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="">
                            <i class="nav-icon icon-pencil"></i> 이슈 </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="">
                            <i class="nav-icon icon-pencil"></i> 팁 </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="">
                            <i class="nav-icon icon-pencil"></i> 고민 </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="">
                            <i class="nav-icon icon-pencil"></i> 질문 </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="">
                            <i class="nav-icon icon-pencil"></i> 토론 </a>
                    </li>
                    <!--<li class="divider"></li>-->
                </ul>
            </nav>
        </div>
        <main class="main">
            <br>
            <div class="container-fluid">
                <div class="animated fadeIn">
                    <div class="card">
                        <div class="card-header">
                            <strong th:text="${category.nameKr} + '게시판'"></strong>
                            <small>글목록</small>
                        </div>
                        <div class="card-body">
                            <div class="dropdown">
                                <button class="btn btn-secondary dropdown-toggle" type="button" id="sortType" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <span th:if="${searchStyle.sortType == 'NEW' || searchStyle.sortType == null}">최신순</span>
                                    <span th:if="${searchStyle.sortType == 'VIEW'}">조회순</span>
                                    <span th:if="${searchStyle.sortType == 'GREAT'}">추천순</span>
                                </button>
                                <div class="dropdown-menu" x-placement="bottom-start" style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(0px, 35px, 0px);">
                                    <h6 class="dropdown-header">정렬 조건</h6>
                                    <a class="dropdown-item" th:href="@{/board/{category}(pageNum=${pagination.getThisPage()}, sortType='NEW', category=${searchStyle.categoryName}, searchType=${searchStyle.searchType}, searchStr=${searchStyle.searchStr})}">최신순</a>
                                    <a class="dropdown-item" th:href="@{/board/{category}(pageNum=${pagination.getThisPage()}, sortType='VIEW', category=${searchStyle.categoryName}, searchType=${searchStyle.searchType}, searchStr=${searchStyle.searchStr})}">조회순</a>
                                    <a class="dropdown-item" th:href="@{/board/{category}(pageNum=${pagination.getThisPage()}, sortType='GREAT', category=${searchStyle.categoryName}, searchType=${searchStyle.searchType}, searchStr=${searchStyle.searchStr})}">추천순</a>
                                </div>
                            </div>
                            <table class="table table-sm">
                                <thead>
                                <tr>
                                    <th scope="col">구분</th>
                                    <th scope="col">제목</th>
                                    <th scope="col">작성자</th>
                                    <th scope="col">조회수</th>
                                    <th scope="col">작성일</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr th:each="board, iterstat : ${boardList}">
                                    <th scope="row"></th>
                                    <td><a th:href="@{/board/{category}/{id}(category = ${board.category.name}, id = ${board.id})}"><span th:text="${board.title}">제목</span></a></td>
                                    <td><span th:text="${board.user.nickname}">닉네임</span></td>
                                    <td><span th:text="${board.view}">조회수</span></td>
                                    <td><span th:text="${#temporals.format(board.date.regDate, 'yyyy-MM-dd HH:mm')}">작성 날짜</span></td>
                                </tr>
                                </tbody>
                            </table>
                            <nav aria-label="Page navigation example">
                                <ul class="pagination justify-content-center">
                                    <li th:classappend="${pagination.getPrevPage() != 0} ? '' : 'disabled'" class="page-item">
                                        <a class="page-link" th:href="@{/board/{category}(pageNum=${pagination.getPrevPage()}, sortType=${searchStyle.sortType}, category=${searchStyle.categoryName}, searchType=${searchStyle.searchType}, searchStr=${searchStyle.searchStr})}">Prev</a>
                                    </li>

                                    <li th:each="i : ${#numbers.sequence(pagination.getStartPage(), pagination.getEndPage())}" class="page-item">
                                        <a class="page-link" th:href="@{/board/{category}(pageNum=${i}, sortType=${searchStyle.sortType}, category=${searchStyle.categoryName}, searchType=${searchStyle.searchType}, searchStr=${searchStyle.searchStr})}" th:text="${i}"></a>
                                    </li>

                                    <li th:classappend="${pagination.getNextPage() != 0} ? '' : 'disabled'" class="page-item">
                                        <a class="page-link" th:href="@{/board/{category}(pageNum=${pagination.getNextPage()}, sortType=${searchStyle.sortType}, category=${searchStyle.categoryName}, searchType=${searchStyle.searchType}, searchStr=${searchStyle.searchStr})}">Next</a>
                                    </li>
                                </ul>
                                <form method="get" action="#" th:action="@{/board/{category}(category=${searchStyle.categoryName})}">
                                    <div class="form-group row justify-content-center">
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        <div class="col-md-4 ">
                                            <div class="input-group ">
                                                <div class="input-group-prepend">
                                                    <select class="form-control" id="searchType" name="searchType">
                                                        <option value="TITLE" th:selected="${searchStyle.searchType == 'TITLE'}">제목검색</option>
                                                        <option value="WHO" th:selected="${searchStyle.searchType == 'WHO'}">Who검색</option>
                                                        <option value="WHEN" th:selected="${searchStyle.searchType == 'WHEN'}">When검색</option>
                                                        <option value="WHERE" th:selected="${searchStyle.searchType == 'WHERE'}">Where검색</option>
                                                        <option value="WHAT" th:selected="${searchStyle.searchType == 'WHAT'}">What검색</option>
                                                        <option value="HOW" th:selected="${searchStyle.searchType == 'HOW'}">How검색</option>
                                                        <option value="WHY" th:selected="${searchStyle.searchType == 'WHY'}">Why검색</option>
                                                        <option value="USER" th:selected="${searchStyle.searchType == 'USER'}">작성자검색</option>
                                                    </select>
                                                </div>
                                                <input type="search" id="searchStr" name="searchStr" class="form-control" placeholder="검색어를 입력하세요." th:value="${searchStyle.searchStr}">
                                                <span class="input-group-append">
                                                    <button class="btn btn-light active" aria-pressed="true">검색</button>
                                                </span>
                                            </div>
                                        </div>
                                        <ul class="nav navbar-nav ml-auto">
                                        </ul>
                                        <a th:href="@{/board/{category}/write(category=${searchStyle.categoryName})}" class="btn btn-primary active" aria-pressed="true">글쓰기</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                    </div>
                                </form>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <footer class="app-footer">
        <div>
            <a href="#">UCaMu</a>
            <span>© 2018 creativeLabs.</span>
        </div>
        <div class="ml-auto">
            <span>Developed by</span>
            <a href="#">김병수</a>
        </div>
    </footer>
    <script type="text/javascript" th:inline="javascript">
        $('.dropdown-toggle').dropdown()
    </script>
</body>
</html>